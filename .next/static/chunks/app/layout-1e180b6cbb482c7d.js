(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{5496:function(e,t,n){Promise.resolve().then(n.bind(n,8774)),Promise.resolve().then(n.t.bind(n,5339,23)),Promise.resolve().then(n.t.bind(n,3742,23)),Promise.resolve().then(n.t.bind(n,7960,23))},8774:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return m},a:function(){return y}});var r=n(7437),a=n(2265),o=n(738),i=n(4752),s=n(5978);let l=0===(0,o.C6)().length?(0,o.ZF)({apiKey:"AIzaSyDeh4JbRjhp8Hq7Nu_PNomV7hNgxxxHRK8",authDomain:"ns-pong.firebaseapp.com",projectId:"ns-pong",storageBucket:"ns-pong.firebasestorage.app",messagingSenderId:"989309040638",appId:"1:989309040638:web:277e87ced7c9ef2adf32af"}):(0,o.C6)()[0],c=(0,i.v0)(l);(0,s.ad)(l);let u=new i.hJ;u.setCustomParameters({prompt:"select_account"});let h=async()=>{try{return(await (0,i.rh)(c,u)).user}catch(e){throw console.error("Error signing in with Google:",e),e}},f=async()=>{try{await (0,i.w7)(c)}catch(e){throw console.error("Error signing out:",e),e}},_=e=>(0,i.Aj)(c,e),p=async()=>{let e=c.currentUser;return e?e.getIdToken():null},d=(0,a.createContext)(void 0);function m(e){let{children:t}=e,[n,o]=(0,a.useState)(null),[i,s]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=_(e=>{e?o({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL}):o(null),s(!1)});return()=>e()},[]);let l=async()=>{try{s(!0);let e=await h(),t=await e.getIdToken();await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({name:e.displayName,email:e.email,photoURL:e.photoURL})})}catch(e){throw console.error("Sign in error:",e),e}finally{s(!1)}},c=async()=>{try{await f(),o(null)}catch(e){throw console.error("Sign out error:",e),e}},u=async()=>p();return(0,r.jsx)(d.Provider,{value:{user:n,loading:i,signIn:l,signOutUser:c,getToken:u},children:t})}function y(){let e=(0,a.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7960:function(){},5339:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3",variable:"__variable_f367f3"}},3742:function(e){e.exports={style:{fontFamily:"'__JetBrains_Mono_3c557b', '__JetBrains_Mono_Fallback_3c557b'",fontStyle:"normal"},className:"__className_3c557b",variable:"__variable_3c557b"}}},function(e){e.O(0,[874,358,533,434,971,117,744],function(){return e(e.s=5496)}),_N_E=e.O()}]);